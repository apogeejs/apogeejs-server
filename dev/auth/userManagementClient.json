{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"Workspace","children":{"createUser":{"name":"createUser","type":"apogee.Folder","children":{"createUserForm":{"name":"createUserForm","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let onSubmit = (formValue,formObject) => {\n    admin.getCommandMessenger().dataCommand(\"userInfo\",formValue);\n}\n\nlet onClear = () => {\n    admin.getCommandMessenger().dataCommand(\"userInfo\",apogeeutil.INVALID_VALUE);\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"Create User\"\n    },\n    {\n        type: \"textField\",\n        label: \"First Name: \",\n        size: 40,\n        key: \"firstName\"\n    },\n    {\n        type: \"textField\",\n        label: \"Family Name: \",\n        size: 40,\n        key: \"familyName\"\n    },\n    {\n        type: \"textField\",\n        label: \"Email: \",\n        size: 40,\n        key: \"email\"\n    },\n    {\n        type: \"textField\",\n        label: \"Phone: \",\n        size: 40,\n        key: \"phone\"\n    },\n    {\n        type: \"textField\",\n        label: \"Password: \",\n        size: 40,\n        key: \"password\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        onCancel: onClear,\n        submitLabel: \"Submit\",\n        cancelLabel: \"Submit Empty Data\"\n    }\n]","supplementalCode":""}},"userInfo":{"name":"userInfo","type":"apogee.JsonMember","updateData":{"invalidValue":true}},"result":{"name":"result","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let options = {\n    method: \"POST\", \n    header: {\n        \"content-type\": \"application/json\"\n    },\n    body: JSON.stringify(userInfo)\n}\n\nreturn apogeeutil.jsonRequest(\"http://localhost:3456/auth/createUser\",options);","supplementalCode":""}}}},"login":{"name":"login","type":"apogee.Folder","children":{"loginInfo":{"name":"loginInfo","type":"apogee.JsonMember","updateData":{"data":{"email":"sutter@intransix.com","password":"asdhasdf"}}},"queryResult":{"name":"queryResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let options = {\n    method: \"POST\", \n    header: {\n        \"content-type\": \"application/json\"\n    },\n    body: JSON.stringify(loginInfo)\n}\n\nreturn apogeeutil.jsonRequest(\"http://localhost:3456/auth/login\",options);","supplementalCode":""}},"loginForm":{"name":"loginForm","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let onSubmit = (formValue,formObject) => {\n    admin.getCommandMessenger().dataCommand(\"loginInfo\",formValue);\n}\n\nlet onClear = () => {\n    admin.getCommandMessenger().dataCommand(\"loginInfo\",apogeeutil.INVALID_VALUE);\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"User Info\"\n    },\n    {\n        type: \"textField\",\n        label: \"Email: \",\n        size: 50,\n        key: \"email\"\n    },\n    {\n        type: \"textField\",\n        label: \"Password: \",\n        size: 50,\n        password: true,\n        key: \"password\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        onCancel: onClear,\n        submitLabel: \"Submit\",\n        cancelLabel: \"Submit Empty Data\"\n    }\n]","supplementalCode":""}}}},"checkSession":{"name":"checkSession","type":"apogee.Folder","children":{"loginForm":{"name":"loginForm","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let onSubmit = (formValue,formObject) => {\n    admin.getCommandMessenger().dataCommand(\"sessionToken\",formValue.sessionToken);\n}\n\nlet onClear = () => {\n    admin.getCommandMessenger().dataCommand(\"sessionToken\",apogeeutil.INVALID_VALUE);\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"Session\"\n    },\n    {\n        type: \"textField\",\n        label: \"Session Token: \",\n        size: 50,\n        key: \"sessionToken\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        onCancel: onClear,\n        submitLabel: \"Submit\",\n        cancelLabel: \"Submit Empty Data\"\n    }\n]","supplementalCode":""}},"sessionToken":{"name":"sessionToken","type":"apogee.JsonMember","updateData":{"data":"uxaf96dud3-lhhlmeecq8-nrdpcleovq9-2anxu4z62p3"}},"queryResult":{"name":"queryResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let options = {\n    method: \"POST\", \n    header: {\n        \"content-type\": \"text/plain\"\n    },\n    body: sessionToken\n}\n\nreturn apogeeutil.jsonRequest(\"http://localhost:3456/auth/checkSession\",options);","supplementalCode":""}}}},"updateSessionData":{"name":"updateSessionData","type":"apogee.Folder","children":{"loginForm":{"name":"loginForm","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let onSubmit = (formValue,formObject) => {\n    admin.getCommandMessenger().dataCommand(\"sessionInfo\",formValue);\n}\n\nlet onClear = () => {\n    admin.getCommandMessenger().dataCommand(\"sessionInfo\",apogeeutil.INVALID_VALUE);\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"Session\"\n    },\n    {\n        type: \"textField\",\n        label: \"Session Token: \",\n        size: 50,\n        key: \"sessionToken\"\n    },\n    {\n        type: \"textarea\",\n        label: \"Session Data: \",\n        rows: 6,\n        cols: 50,\n        key: \"sessionData\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        onCancel: onClear,\n        submitLabel: \"Submit\",\n        cancelLabel: \"Submit Empty Data\"\n    }\n]","supplementalCode":""}},"sessionInfo":{"name":"sessionInfo","type":"apogee.JsonMember","updateData":{"data":{"sessionToken":"uxaf96dud3-lhhlmeecq8-nrdpcleovq9-2anxu4z62p3","sessionData":"{\n   \"asdf\":true,\n   \"gasgasd\":[1,2,3]\n}"}}},"queryResult":{"name":"queryResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let options = {\n    method: \"POST\", \n    header: {\n        \"content-type\": \"application/json\"\n    },\n    body: JSON.stringify(sessionInfo)\n}\n\nreturn apogeeutil.jsonRequest(\"http://localhost:3456/auth/updateSessionData\",options);","supplementalCode":""}}}}}},"components":{"createUser":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Create Use"}]},{"type":"apogeeComponent","attrs":{"name":"createUserForm","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"userInfo","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"result","id":0,"state":""}}]}},"children":{"createUserForm":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"userInfo":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"result":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true}},"login":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Auth Test"}]},{"type":"heading1","content":[{"type":"text","text":"Login"}]},{"type":"apogeeComponent","attrs":{"name":"loginForm","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"loginInfo","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"queryResult","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"loginInfo":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"queryResult":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"loginForm":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true}},"checkSession":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Check Session"}]},{"type":"apogeeComponent","attrs":{"name":"loginForm","id":0,"state":""}},{"type":"heading2"},{"type":"apogeeComponent","attrs":{"name":"sessionToken","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Note the query is sent differently in this case - mime type text and no stringify"}]},{"type":"apogeeComponent","attrs":{"name":"queryResult","id":0,"state":""}}]}},"children":{"loginForm":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"sessionToken":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"queryResult":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"updateSessionData":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Update Session Data"}]},{"type":"apogeeComponent","attrs":{"name":"loginForm","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"sessionInfo","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"queryResult","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"loginForm":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"sessionInfo":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"queryResult":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}